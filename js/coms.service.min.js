(function(){angular.module("angular-coms",[]).factory("Coms",["$rootScope","$timeout",a]);function a(b,c){var d={sendSignal:e,onSignal:f};return d;function e(j,i,g){j=typeof j==="undefined"?new Error("A message string is needed to identify the event"):j;g=typeof g==="undefined"?-1:g;var h=typeof i==="undefined"?{}:i;if(g>-1){if(g===0){b.$evalAsync(function(k){k.$emit(j,h)})}else{c(function(){b.$emit(j,h)},g,true)}}else{b.$emit(j,h)}}function f(j,i,h){var g=b.$on(j,i);if(h){h.$on("$destroy",g)}return g}}})();